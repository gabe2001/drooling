<<<<<<< HEAD:src/main/resources/nl.eldude.rnd.drooling.rules/applyDiscounts.drl
package nl.eldude.rnd.drooling.rules;
dialect  "mvel";
=======
package nl.eldude.rmd.drooling.rules;
>>>>>>> 5953ecb73dc4c21441bb8deb8d4f04ab92b241d2:src/main/resources/nl.eldude.rmd.drooling.rules/applyDiscounts.drl

import nl.eldude.rnd.drooling.data.CustomerType;
import nl.eldude.rnd.drooling.model.Item;
import nl.eldude.rnd.drooling.model.LineItem;
import nl.eldude.rnd.drooling.model.Customer;
import nl.eldude.rnd.drooling.model.Order
import java.util.List

global nl.eldude.rnd.drooling.model.Order order;
dialect  "mvel";

rule "Club discount 10%"
    when
        Customer(customerType == CustomerType.CLUB);
        lineItem: LineItem(order.getLineItems())
    then
        modify(lineItem)
        {
            setDiscount(10)
        }
end;
